<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>extract raster values on features of a vector — extract_rast • sprawl</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="extract raster values on features of a vector — extract_rast" />

<meta property="og:description" content="Function used to extract values of a single- or multi- band raster
for pixels corresponding to the features of a vector (Polygon, Point or Line)" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-84499524-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84499524-3');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sprawl</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sprawl.html">Getting Started</a>
</li>
<li>
  <a href="../articles/articles/examples.html">Examples of Use</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Contributing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/contributing.html">Contributing</a>
    </li>
    <li>
      <a href="../articles/articles/coding_style.html">Coding Style</a>
    </li>
    <li>
      <a href="../articles/articles/CONDUCT.html">Code of Conduct</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    code reference
  </a>
</li>
<li>
  <a href="https://github.com/lbusett/sprawl/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>extract raster values on features of a vector</h1>
    <small class="dont-index">Source: <a href='https://github.com/lbusett/sprawl/blob/master/R/extract_rast.R'><code>R/extract_rast.R</code></a></small>
    <div class="hidden name"><code>extract_rast.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Function used to extract values of a single- or multi- band raster
for pixels corresponding to the features of a vector (Polygon, Point or Line)</p>
    
    </div>

    <pre class="usage"><span class='fu'>extract_rast</span>(<span class='no'>in_rast</span>, <span class='no'>in_vect</span>, <span class='kw'>na.value</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>rast_type</span> <span class='kw'>=</span> <span class='st'>"continuous"</span>, <span class='kw'>selbands</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>rastres</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>id_field</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>summ_data</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>full_data</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>comp_quant</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>comp_freq</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>long_format</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>small</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>maxchunk</span> <span class='kw'>=</span> <span class='fl'>5e+07</span>,
  <span class='kw'>join_feat_tbl</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>join_geom</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>keep_null</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>in_rast</th>
      <td><p>input raster. Can be either:</p><ol>
<li><p>A file name corresponding to a valid single- or multi- band raster (e.g. /my_folder/myfile.tif)
All <code>gdal</code> raster formats are supported</p></li>
<li><p>An <code>raster</code>, <code>rasterStack</code> or <code>rasterBrick</code> object</p></li>
</ol></td>
    </tr>
    <tr>
      <th>in_vect</th>
      <td><p>input vector object containing zones from which data has to be
extracted.
Can be either:</p><ol>
<li><p>A <code>file name</code> corresponding to a valid ESRI shapefile (e.g. /my_folder/myshape.shp)</p></li>
<li><p>An <code>R</code> <code>+sp</code> or <code>sf</code> object</p></li>
</ol></td>
    </tr>
    <tr>
      <th>na.value</th>
      <td><p>DESCRIPTION</p></td>
    </tr>
    <tr>
      <th>rast_type</th>
      <td><p><code>character ["continuous" | "categorical"]</code> specifies if the
values passed in <code>in_data</code> represent a continuous or categorical variable.
(see @description)</p></td>
    </tr>
    <tr>
      <th>selbands</th>
      <td><p><code>2-element numeric array</code> defining starting and ending raster
bands to be processed (e.g., c(1, 10). Default: NULL, meaning that all bands
will be processed</p></td>
    </tr>
    <tr>
      <th>rastres</th>
      <td><p><code><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric(2)</a></code>, if not null, the input raster is resampled to <code>rastres</code>
prior to data extraction using nearest neighbour resampling. This is useful
in case the polygons are small with respect to <code>in_rast</code> resolution,
Default: NULL (meaning no resampling is done)</p></td>
    </tr>
    <tr>
      <th>id_field</th>
      <td><p><code>character</code> (optional) column of the vector attribute table to be used to
identify the zones from which data is to be extracted, If NULL (or invalid)
zonal statistics are extracted on each row of the shapefile, and a new column
named <code>id_feat</code> is used on the output to distinguish the zones, Default: NULL</p></td>
    </tr>
    <tr>
      <th>summ_data</th>
      <td><p><code>logical</code> If TRUE, summary statistics of values belonging to
each vector zone are returned in <code>out$stats</code>. Default statistics are average,
median, standard deviation and variation coefficient. Quantiles of the
distribution can be also returned if <code>comp_quant == TRUE</code>,  Default: TRUE</p></td>
    </tr>
    <tr>
      <th>full_data</th>
      <td><p><code>logical</code> If TRUE, values of all pixels belonging to each vector
zone are returned in <code>out$alldata</code> (Setting this to FALSE can be a good
idea for large datasets), Default: TRUE</p></td>
    </tr>
    <tr>
      <th>comp_quant</th>
      <td><p><code>logical</code> if TRUE, also quantiles of the distributions of
values are computed for each zone and returned in  <code>out$ts_summ</code>,
Default: FALSE (Ignored if rast_type == "categorical")</p></td>
    </tr>
    <tr>
      <th>comp_freq</th>
      <td><p><code>logical</code> if TRUE, also frequencies of the the different classes
of a categorical raster present in each polygon are returned, in <code>out$ts_summ</code>
Default = FALSE (Ignored if rast_type == "continuous")</p></td>
    </tr>
    <tr>
      <th>long_format</th>
      <td><p><code>logical</code> if TRUE, extraction <strong>on points</strong> provides data
in long format (i.e., only one "value" column, with an "id" column)
allowing to select specific points, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>FUN</th>
      <td><p><code>character</code> or function name, Default: NULL</p></td>
    </tr>
    <tr>
      <th>small</th>
      <td><p><code>logical</code> if TRUE, values are returned also for small polygons not
including any pixel centroids. Values are taken from all cells "touched" by
the small polygon, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p><code>logical</code> If TRUE, NA values are removed while computing statistics,
Default: TRUE</p></td>
    </tr>
    <tr>
      <th>maxchunk</th>
      <td><p>Maximum chunk size (provisional), Default: 5e+06</p></td>
    </tr>
    <tr>
      <th>join_feat_tbl</th>
      <td><p><code>logical</code> If TRUE, columns of the attribute table of the
<code>in_vect</code> layer are joined to results of the computation, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>join_geom</th>
      <td><p><code>logical</code>, If TRUE, the output sent out as an <code>sf</code> object,
preserving the geometry of <code>in_vect</code>. Note that this leads to duplication
of geometries, and may be very slow for large datasets. Default: FALSE</p></td>
    </tr>
    <tr>
      <th>keep_null</th>
      <td><p><code>logical</code> If TRUE, the output preserves features of <code>in_vect</code>
falling outside the extent of <code>in_rast</code>. Values for these features are set
to NA, Default: FALSE</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code> If TRUE, messages concerning the processing status
are shown in the console, Default: TRUE</p></td>
    </tr>
    <tr>
      <th>ncores</th>
      <td><p><code>numeric</code> maximum number of cores to be used in the processing.
If NULL, defaults to  available cores - 2, but up to a maximum of 8. If
user-provided is greater than available cores - 2  or greater than 8,
ncores is re-set to the minimum between those two.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>out_list <code>list</code> containing two elements:
1.<code>out_list$stats</code> contains summary statistics
2.<code>out_list$alldata</code> contains the data of all pixels extracted
(see examples).</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># See [here](https://lbusett.github.io/sprawl/articles/articles/extract_rast_example.html)</span>
<span class='co'># for a worked example !</span>

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>sprawl</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>sprawl.data</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>raster</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>ggplot2</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘ggplot2’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:latticeExtra’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    layer</span></div><div class='input'><span class='no'>in_polys</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_vect.html'>read_vect</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/shapes"</span>,<span class='st'>"lc_polys.shp"</span>,
                      <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"sprawl.data"</span>), <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>in_rast</span>  <span class='kw'>&lt;-</span> <span class='fu'><a href='read_rast.html'>read_rast</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/MODIS_test"</span>, <span class='st'>"EVIts_test.tif"</span>,
                          <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"sprawl.data"</span>))
<span class='no'>in_rast</span>  <span class='kw'>&lt;-</span> <span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/zvalues'>setZ</a></span>(<span class='no'>in_rast</span>, <span class='fu'><a href='doytodate.html'>doytodate</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>1</span>,<span class='fl'>366</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>8</span>), <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2013</span>))

<span class='no'>out</span>      <span class='kw'>&lt;-</span> <span class='fu'>extract_rast</span>(<span class='no'>in_rast</span>, <span class='no'>in_polys</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>,
                         <span class='kw'>id_field</span> <span class='kw'>=</span> <span class='st'>"lc_type"</span>)

<span class='co'># Statistics for the different polygons</span>

<span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/headtail'>head</a></span>(<span class='no'>out</span>$<span class='no'>stats</span>)</div><div class='output co'>#&gt; Simple feature collection with 6 features and 13 fields
#&gt; geometry type:  POLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: 12918420 ymin: 1752797 xmax: 12920610 ymax: 1755103
#&gt; epsg (SRID):    NA
#&gt; proj4string:    +proj=sinu +lon_0=0 +x_0=0 +y_0=0 +a=6371007.181 +b=6371007.181 +units=m +no_defs
#&gt; <span style='color: #949494;'># A tibble: 6 x 14</span><span>
#&gt;   lc_type band_n date       n_pix n_pix_val   avg   med    sd   min   max    id
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> forest…      1 2013-01-01    61        61 </span><span style='text-decoration: underline;'>4</span><span>831.  </span><span style='text-decoration: underline;'>4</span><span>747  541.  </span><span style='text-decoration: underline;'>3</span><span>731  </span><span style='text-decoration: underline;'>5</span><span>987     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> forest…      2 2013-01-09    61        61 </span><span style='text-decoration: underline;'>4</span><span>605.  </span><span style='text-decoration: underline;'>4</span><span>648  511.  </span><span style='text-decoration: underline;'>3</span><span>665  </span><span style='text-decoration: underline;'>5</span><span>547     1
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> forest…      3 2013-01-17    61        61 </span><span style='text-decoration: underline;'>4</span><span>838.  </span><span style='text-decoration: underline;'>4</span><span>834  557.  </span><span style='text-decoration: underline;'>3</span><span>640  </span><span style='text-decoration: underline;'>5</span><span>827     1
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> forest…      4 2013-01-25    61        61 </span><span style='text-decoration: underline;'>4</span><span>485.  </span><span style='text-decoration: underline;'>4</span><span>411  474.  </span><span style='text-decoration: underline;'>3</span><span>285  </span><span style='text-decoration: underline;'>5</span><span>275     1
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> forest…      5 2013-02-02    61        61 </span><span style='text-decoration: underline;'>4</span><span>284.  </span><span style='text-decoration: underline;'>4</span><span>237  499.  </span><span style='text-decoration: underline;'>3</span><span>469  </span><span style='text-decoration: underline;'>5</span><span>318     1
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> forest…      6 2013-02-10    61        61 </span><span style='text-decoration: underline;'>4</span><span>375.  </span><span style='text-decoration: underline;'>4</span><span>302  471.  </span><span style='text-decoration: underline;'>3</span><span>317  </span><span style='text-decoration: underline;'>5</span><span>363     1
#&gt; </span><span style='color: #949494;'># … with 3 more variables: category </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span style='color: #949494;'>, sup_catego </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span style='color: #949494;'>, geometry </span><span style='color: #949494;font-style: italic;'>&lt;POLYGON</span><span>
#&gt; # </span><span style='color: #949494;font-style: italic;'>  [m]&gt;</span><span></div><div class='input'><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>out</span>$<span class='no'>stats</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>date</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>avg</span>, <span class='kw'>group</span> <span class='kw'>=</span> <span class='no'>lc_type</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='no'>lc_type</span>)) +
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span>() +
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>lc_type</span>) +
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_light</a></span>()</div><div class='img'><img src='extract_rast-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Extract data for one polygon</span>

<span class='no'>polydata</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>out</span>$<span class='no'>stats</span>, <span class='no'>lc_type</span> <span class='kw'>==</span> <span class='st'>"forest_1"</span>)
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>polydata</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>date</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>avg</span>)) + <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span>() + <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_light</a></span>()</div><div class='img'><img src='extract_rast-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># access data extracted from all pixels, grouped by polygon</span>

<span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/headtail'>head</a></span>(<span class='no'>out</span>$<span class='no'>alldata</span>)</div><div class='output co'>#&gt; Simple feature collection with 6 features and 9 fields
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 12918200 ymin: 1754797 xmax: 12919360 ymax: 1754797
#&gt; epsg (SRID):    NA
#&gt; proj4string:    +proj=sinu +lon_0=0 +x_0=0 +y_0=0 +a=6371007.181 +b=6371007.181 +units=m +no_defs
#&gt; </span><span style='color: #949494;'># A tibble: 6 x 10</span><span>
#&gt;   lc_type band_n date       n_pix_val     N value    id category sup_catego
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>     
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> forest…      1 2013-01-01        61     1  </span><span style='text-decoration: underline;'>4</span><span>454     1 Forest   Vegetation
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> forest…      1 2013-01-01        61     2  </span><span style='text-decoration: underline;'>4</span><span>260     1 Forest   Vegetation
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> forest…      1 2013-01-01        61     3  </span><span style='text-decoration: underline;'>4</span><span>224     1 Forest   Vegetation
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> forest…      1 2013-01-01        61     4  </span><span style='text-decoration: underline;'>4</span><span>344     1 Forest   Vegetation
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> forest…      1 2013-01-01        61     5  </span><span style='text-decoration: underline;'>4</span><span>489     1 Forest   Vegetation
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> forest…      1 2013-01-01        61     6  </span><span style='text-decoration: underline;'>4</span><span>970     1 Forest   Vegetation
#&gt; </span><span style='color: #949494;'># … with 1 more variable: geometry </span><span style='color: #949494;font-style: italic;'>&lt;POINT [m]&gt;</span><span></div><div class='input'>

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Lorenzo Busetto, phD (2017) <a href='mailto:lbusett@gmail.com'>lbusett@gmail.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lorenzo Busetto, Luigi Ranghetti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

